function checkTap(o){null==tapTimer?tapTimer=setTimeout(function(){tapTimer=null},500):(clearTimeout(tapTimer),tapTimer=null,pushCool())}function initCool(o){coolForm.classList.contains("voted")||getCookie("liked")||(coolTimer=setTimeout(function(){pushCool(),setVoted(),document.cookie="liked="+url},1e3))}function pushCool(){likes.push({post:lastSegment})}function cancelCool(o){coolTimer&&clearInterval(coolTimer)}function setVoted(){coolForm.className+=" voted",coolLbl.innerHTML="Hey, thanks."}function getCookie(o){var e="; "+document.cookie,t=e.split("; "+o+"=");return 2==t.length?t.pop().split(";").shift():void 0}var likes=new Firebase("https://hmnia.firebaseIO.com/likes"),url=window.location.href,segments=url.split("/"),coolForm=document.querySelector(".cool"),coolCount=document.querySelector(".cool_count"),coolLbl=document.querySelector(".cool_lbl");if(0==segments[segments.length-1].length)var lastSegment=segments[segments.length-2];else var lastSegment=segments[segments.length-1];var coolTimer;getCookie("liked")&&setVoted(),coolForm.touchstart=checkTap,coolForm.onmouseover=initCool,coolForm.onmouseout=cancelCool,coolForm.className+=" enabled",likes.orderByChild("post").equalTo(lastSegment).on("value",function(o){var e=o.numChildren();coolCount.innerHTML=e,coolForm.className+=" visible"});var tapTimer=null;